{% extends "base_students.html" %}


{% block additional-info %}
{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <div {% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>
        {{ message }}
      </div>
    {% endfor %}
  </ul>
{% endif %}
<a class="btn btn-primary active" href="{% url 'students:add_student' %}" role="button">
<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
Добавить нового студента
</a>
{% endblock %}


{% block page-header %}Список студентов{% endblock %}


{% block page-content %} 
<thead>
  <tr>
    <th>№</th>
    <th>фамилия, имя</th>
    <th>адрес</th>
    <th>skype</th>
    <th>курсы</th>
  </tr>
</thead>
<tbody>
  {% csrf_token %}
  {% for student in student_list %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td><a href="{% url 'students:student' student.id %}">
            {{ student.surname }} {{ student.name }}
          </a>
      </td>
      <td>{{ student.address }}</td>
      <td>{{ student.skype }}</td>
      <td>
        {% for course in student.courses.all%}
          <a href="{% url 'courses:course_description' course.id %}">{{ course }}</a></br>
        {% endfor %}
      </td>
      <td>
         <a class="btn btn-primary active" 
            href="{% url 'students:edit_student' student.id %}" 
            role="button">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            Изменить
         </a>
      </td>
      <td>
         <a class="btn btn-primary active" 
            href="{% url 'students:remove_student' student.id %}" 
            role="button">
            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            Удалить
         </a>
      </td>
    </tr>
  {% endfor %} 
</tbody>
{% endblock %}
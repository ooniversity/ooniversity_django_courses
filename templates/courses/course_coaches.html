{% extends "base.html" %}

{% load static from staticfiles %}


{% block title %}{{ course.title }}{% endblock %}


{% block nav_header %}Курсы > {{ course.title }}{% endblock %}


{% block urlget %}?course_id={{ course.id }}{% endblock %}


{% block main_content %}

<br>

{% include "includes/inc_messages.html" %}  {# Подключение сообщений #}


      <!-- lead :  Information about course ! -->
      <div>
        <br>
        <h1><b>{{ course.title }} !</b></h1>
        <br>
        <p class="lead"><i>{{ course.description }}</i></p>
      </div>

      <!-- Block information about coaches ! -->
      <br>
      <h2>Преподаватели</h2>
      <br>


<!-- Проверка наличия и вывод тренера с уведомлением -->

{% if course.coach %}
    {% include "includes/inc_instructor.html" with block_title='Учитель' instructor=course.coach %}
{% else %}
    <div>
      <p>
        <h3>{{ '< на данный момент на курсе НЕТ зарегистрированных учителей >' }}</h3>
      </p>
    </div>
{% endif %}

      <br>

<!-- Проверка наличия и вывод ассистента -->

{% if course.assistent %}
    {% include "includes/inc_instructor.html" with block_title='Ассистент' instructor=course.assistant %}
{% endif %}


      <br>
      <h2>План курса</h2>
      <br>

      <div class="panel panel-default">

        <!-- Table -->
        <table class="table">
          <thead>
            <tr>
              <th><h3>№</h3></th>
              <th><h3>Тема</h3></th>
              <th><h3>Описание</h3></th>
            </tr>
          </thead>

          <tbody>
            {% for lesson in lessons %}
                <tr>
                  <td>
                    <h4>{{ lesson.number }}</h4>
                  </td>

                  <td>
                    <h4>{{ lesson.theme }}</h4>
                  </td>

                  <td>
                    <h4>{{ lesson.description|default:"< описание отсутствует >" }}</h4>
                  </td>
                </tr>
            {% empty %}
                <tr>
                  <td colspan=3 align=center>
                    <h3> {{ '< на этом курсе пока НЕТ занятий >' }} </h3>
                  </td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>


      <!-- Кнопка - Добавить новое занятие -->
      <br>
      <div>
        <a class="add btn btn-success btn-md " href="{% url 'courses:add-lesson' course.id %}">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <big>Добавить занятие</big>
        </a>
      </div>

{% endblock main_content %}
